import { redirect } from 'next/navigation';
import { NextResponse, NextRequest } from 'next/server';
import { fetchAuth } from 'store/session';

import QueryWrapper from 'helpers/queryWrapper';
import SessionProvider from 'components/templates/sessionProvider';
import ThemeWrapper from 'components/templates/wrapper';

import type { Metadata } from 'next';
interface ChildProp {
  children: React.ReactNode;
}

import 'asset/styles/globals.css';
import '@fontsource/roboto/300.css';
import '@fontsource/roboto/400.css';
import '@fontsource/roboto/500.css';
import '@fontsource/roboto/700.css';

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default async function RootLayout({ children }: ChildProp) {
  const authInfo = await fetchAuth();

  return (
    <html lang='en' suppressHydrationWarning>
      <ThemeWrapper>
        <body>
          <QueryWrapper>
            <SessionProvider>{children}</SessionProvider>
          </QueryWrapper>
        </body>
      </ThemeWrapper>
    </html>
  );
}
